<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cricket Numbering Draw</title>
    <!-- Google Fonts: Outfit -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Outfit', 'sans-serif'],
                    },
                    colors: {
                        'cricket-bg': '#0a0f1d',
                        'cricket-card': 'rgba(30, 41, 59, 0.7)',
                        'accent-start': '#f59e0b',
                        'accent-mid': '#fcd34d',
                        'accent-end': '#fef9c3',
                        'cricket-red': '#ef4444',
                        'text-main': '#f8fafc',
                        'text-dim': '#94a3b8',
                    },
                    backgroundImage: {
                        'accent-gradient': 'linear-gradient(to r, #f59e0b, #fcd34d, #fef9c3)',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1)',
                        'pop-in': 'popIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)',
                        'float': 'float 6s ease-in-out infinite',
                    },
                    boxShadow: {
                        'glow-accent': '0 0 50px -10px rgba(245, 158, 11, 0.5)',
                        'glow-accent-lg': '0 0 80px -15px rgba(245, 158, 11, 0.6)',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        popIn: {
                            '0%': { transform: 'scale(0.8)', opacity: '0' },
                            '100%': { transform: 'scale(1)', opacity: '1' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .glass {
            background: rgba(30, 41, 59, 0.4);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .text-gradient {
            background: linear-gradient(to right, #f59e0b, #fcd34d, #fef9c3);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body class="bg-cricket-bg text-text-main h-screen flex flex-col overflow-hidden font-sans select-none antialiased relative">

    <!-- Background Decorative Elements -->
    <div class="absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-accent-start/10 rounded-full blur-[120px] pointer-events-none"></div>
    <div class="absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-cricket-red/5 rounded-full blur-[120px] pointer-events-none"></div>
    
    <canvas id="confetti-canvas" class="absolute top-0 left-0 w-full h-full pointer-events-none z-50"></canvas>

    <div class="flex-1 flex flex-col items-center justify-center p-6 w-full max-w-[550px] mx-auto z-10">
        
        <!-- Screen 1: Setup -->
        <div id="setup-screen" class="flex flex-col items-center w-full animate-fade-in">
            <div class="mb-8 p-4 rounded-3xl bg-cricket-red/10 border border-cricket-red/20 shadow-lg shadow-cricket-red/5 animate-float">
                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"></path>
                    <path d="M2 12h20"></path>
                </svg>
            </div>
            
            <h1 class="text-4xl font-extrabold uppercase tracking-widest mb-3 text-gradient text-center">Match Setup</h1>
            <p class="text-text-dim text-lg mb-8 text-center font-light">Prepare the draw for your team</p>
            
            <div class="mb-10 w-full flex flex-col items-center">
                <label for="total-players" class="text-xs uppercase tracking-widest text-text-dim mb-3 font-semibold">Total Players</label>
                <input type="number" id="total-players" min="2" max="50" value="11" 
                    class="bg-white/5 border border-white/10 text-white p-5 text-3xl rounded-2xl w-32 text-center outline-none focus:ring-2 focus:ring-accent-start/50 focus:border-accent-start/50 transition-all shadow-2xl">
            </div>

            <button class="bg-gradient-to-r from-[#f59e0b] via-[#fcd34d] to-[#fef9c3] text-black font-bold py-5 px-10 text-xl rounded-2xl cursor-pointer uppercase tracking-widest transition-all hover:scale-[1.02] active:scale-[0.98] w-full shadow-[0_10px_30px_rgba(245,158,11,0.3)] disabled:opacity-50 disabled:cursor-not-allowed" 
                onclick="startGame()">Start Draw</button>
        </div>

        <!-- Screen 2: The Game -->
        <div id="game-screen" class="hidden flex-col items-center w-full animate-fade-in">
            <div class="glass px-6 py-3 rounded-2xl mb-8 flex gap-3 items-center shadow-xl">
                <div class="w-2 h-2 rounded-full bg-accent-mid animate-pulse"></div>
                <span class="text-text-dim font-medium tracking-wide">Remaining: <strong id="remaining-count" class="text-white ml-1">0</strong></span>
            </div>

            <div id="display-ring" class="group w-64 h-64 glass rounded-full flex items-center justify-center my-8 border-2 border-white/5 shadow-inner relative transition-all duration-500 overflow-hidden">
                <div class="absolute inset-0 bg-accent-gradient opacity-10 group-hover:opacity-20 transition-opacity"></div>
                <span id="current-number" class="text-[120px] font-extrabold text-white transition-all duration-300 drop-shadow-2xl">?</span>
            </div>

            <button id="draw-btn" class="bg-gradient-to-r from-[#f59e0b] via-[#fcd34d] to-[#fef9c3] text-black font-bold py-5 px-10 text-xl rounded-2xl cursor-pointer uppercase tracking-widest transition-all hover:scale-[1.02] active:scale-[0.98] w-full shadow-[0_10px_30px_rgba(245,158,11,0.3)] disabled:opacity-50 disabled:cursor-not-allowed" 
                onclick="drawNumber()">Get My Number</button>

            <div class="w-full mt-10 glass rounded-3xl p-6 max-h-48 overflow-y-auto custom-scrollbar">
                <div class="text-xs uppercase tracking-[0.2em] text-text-dim mb-4 border-b border-white/5 pb-2 font-bold">Draw History</div>
                <ul id="history-list" class="list-none flex flex-wrap gap-3">
                    <!-- History items go here -->
                </ul>
            </div>

            <button class="text-cricket-red/70 hover:text-cricket-red text-xs uppercase tracking-widest font-bold mt-10 transition-colors py-2 px-4 rounded-lg hover:bg-cricket-red/10" 
                onclick="resetGame()">Reset Match</button>
        </div>

    </div>

    <style>
        .custom-scrollbar::-webkit-scrollbar {
            width: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }
    </style>

    <!-- External Script -->
    <script src="script.js"></script>
</body>
</html>